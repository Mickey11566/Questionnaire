@if (surveyData) {
<main>
  <div class="formHeader">
    <div class="formDate">
      <h3>可填寫時間： {{surveyData.startDate}} 至 {{surveyData.endDate}}</h3>
    </div>
  </div>

  <div class="formInfo">
    <div class="formTitle">
      <h1>{{surveyData.name}}</h1>
    </div>
    <div class="formDescription">
      <h3>{{surveyData.description}}</h3>
    </div>
  </div>

  <div class="formContent">

    @if (questions && questions.length > 0) {
    <div class="q-list">

      @for (q of questions; track q.questionId; let i = $index) {
      <div class="q-item" style="
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1vh;
        margin-bottom: 30px;">

        <h2>
          Q{{i + 1}}. {{q.question}}
          @if (q.required) {
          <span style="color: red;">*</span>
          }
        </h2>

        @switch (q.type) {

        @case ('single') {
        @for (option of q.optionsList; track option.code) {
        <div class="option">
          <input disabled type="radio" [id]="'q' + q.questionId + 'opt' + option.code" [name]="q.questionId.toString()">
          <label [for]="'q' + q.questionId + 'opt' + option.code">{{ option.optionName }}</label>
        </div>
        }
        }

        @case ('multiple') {
        @for (option of q.optionsList; track option.code) {
        <div class="option">
          <input disabled type="checkbox" [id]="'q' + q.questionId + 'opt' + option.code"
            [name]="q.questionId.toString()" [value]="option.optionName">
          <label [for]="'q' + q.questionId + 'opt' + option.code">{{ option.optionName }}</label>
        </div>
        }
        }

        @case ('short-answer') {
        <textarea disabled
          style="resize: none; border-radius: 4px; font-size: 1rem; font-weight: 700; background-color: #f9f9f9;"
          rows="4" cols="30" placeholder="簡答題內容顯示..."></textarea>
        }

        @default {
        <p>無法識別的問題類型。</p>
        }
        }

      </div>
      }
    </div>
    } @else {
    <div style="text-align: center; padding: 20px;">
      <p>此問卷目前沒有任何問題。</p>
    </div>
    }

  </div>
</main>
}

<button class="cancleBtn" (click)="backToList()">關閉預覽並返回</button>

<nav class="navBar">
  <ul>
    <li (click)="checkList()" style="--i:#FF9966;--j:#FF5E62">
      <span class="icon"> <mat-icon aria-hidden="false" aria-label="list icon"
          fontIcon="format_list_bulleted"></mat-icon></span>
      <span class="title">問卷清單</span>
    </li>
    <li (click)="logout()" style="--i:#FF9966;--j:#FF5E62">
      <span class="icon"> <mat-icon aria-hidden="false" aria-label="logout icon" fontIcon="logout"></mat-icon></span>
      <span class="title">登出</span>
    </li>
  </ul>
</nav>