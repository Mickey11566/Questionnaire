<div class="formHeader">
  @if (surveyReviewData) {
  <div class="formDate">
    <h3>問卷期間： {{surveyReviewData.startDate}} 至 {{surveyReviewData.endDate}}</h3>
  </div>
  <div class="formTitle">
    <h1>{{surveyReviewData.name}} - 預覽</h1>
  </div>
  <div class="formDescription">
    {{surveyReviewData.description}}
  </div>
  } @else {
  <p>正在載入預覽資料...</p>
  }
</div>

<div class="formContent">
  <h2>您的回答：</h2>

  @if (reviewQuestions.length > 0) {
  <div class="review-question-list">

    @for (item of reviewQuestions; track item.id; let i = $index) {
    <div class="review-item">
      <h4>
        Q{{i + 1}}. {{item.text}}
        @if (item.required) {
        <span style="color: red;">(必填)</span>
        }
      </h4>

      <div class="user-answer-box">
        <p><strong>您的選擇：</strong></p>
        <p class="answer-text">{{ item.userAnswerText }}</p>

        @if (item.type === 'single' || item.type === 'multiple') {
        <div class="options-hint">
          @for (option of item.options; track option) {
          @if (item.userAnswerText.includes(option)) {
          <span class="selected-option">{{ option }}</span>
          } @else {
          <span class="unselected-option">{{ option }}</span>
          }
          }
        </div>
        }
      </div>
    </div>
    }
  </div>
  } @else {
  <p>此問卷沒有問題或未取得您的回答。</p>
  }


  <div class="formButton">
    <button class="cancleBtn" (click)="goBack()">修改</button>
    <button class="submitBtn" (click)="submitForm()">確認並提交</button>
  </div>
</div>